<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile Page</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="profile-container">
        <div class="profile-header">
            <div class="avatar-section">
                <a href="{{ url_for('edit_profile') }}" class="edit-avatar-btn">Edit Profile</a>
                <form action="{{ url_for('upload_avatar') }}" method="post" enctype="multipart/form-data">
                    {% if editable %}
                        <input type="file" name="avatar" accept="image/*" />
                        <button type="submit" class="edit-avatar-btn">Upload Avatar</button>
                    {% else %}
                        <a href="{{ url_for('edit_profile') }}" class="edit-avatar-btn">Edit Profile</a>
                    {% endif %}
                </form>
            </div>
            <div class="about-section">
                <h1>ABOUT ME!</h1>
                <form action="{{ url_for('save_profile') }}" method="post">
                    <textarea name="about" class="about-text" {% if not editable %}readonly{% endif %}>{{ user_data['about'] }}</textarea>
                    <div class="profile-btns">
                        {% if editable %}
                            <button type="submit" class="save-edit-btn">Save Edit</button>
                        {% else %}
                            <a href="{{ url_for('edit_profile') }}" class="edit-profile-btn">Edit Profile</a>
                        {% endif %}
                    </div>
                </form>
            </div>
            <div class="info-section">
                <p>age: <span {% if not editable %}readonly{% endif %}>{{ user_data['age'] }}</span></p>
                <p>gender: <span {% if not editable %}readonly{% endif %}>{{ user_data['gender'] }}</span></p>
                <p>status: <span {% if not editable %}readonly{% endif %}>{{ user_data['status'] }}</span></p>
            </div>
        </div>

        <div class="profile-body">
            <form action="{{ url_for('save_profile') }}" method="post">
                <div class="watch-list">
                    <h3>watch/listen list</h3>
                    <textarea name="watch_list" {% if not editable %}readonly{% endif %}>{{ user_data['watch_list'] }}</textarea>
                </div>
                <div class="likes-section">
                    <h3>likes:</h3>
                    <textarea name="likes" {% if not editable %}readonly{% endif %}>{{ user_data['likes'] }}</textarea>
                </div>
                <div class="dislikes-section">
                    <h3>dislikes:</h3>
                    <textarea name="dislikes" {% if not editable %}readonly{% endif %}>{{ user_data['dislikes'] }}</textarea>
                </div>
                {% if editable %}
                    <button type="submit" class="save-edit-btn">Save Edit</button>
                {% endif %}
            </form>
        </div>
    </div>
</body>
</html>
